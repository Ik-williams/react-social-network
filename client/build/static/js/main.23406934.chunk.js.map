{"version":3,"sources":["logo.svg","brand.png","config/firebase_config.js","contextUser.js","components/navigation.js","components/profile/photos.js","components/profile/likes.js","components/profile/profile.js","components/main/updates.js","components/main/sidebar.js","components/comments.js","components/post.js","components/main/posts.js","components/main/main.js","components/upload/upload.js","components/auth/login.js","components/auth/register.js","components/view/view.js","components/error.js","components/settings/settings.js","components/auth/privateRoute.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","app","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firestore","settings","timestampsInSnapshots","ContextUser","createContext","Navigation","props","react_default","a","createElement","contextUser","Consumer","_ref","state","actions","className","role","aria-label","Link","to","src","alt","width","height","id","type","placeholder","logged","profile_link","onClick","auth","signOut","then","updateAuthLogged","error","alert","aria-haspopup","aria-controls","aria-hidden","buttonsDisplay","Photos","photoslist","data","map","obj","index","link","key","image","Likes","likeslist","Profile","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","componentWillMount","database","ref","concat","username","once","snapshot","val","setState","description","followers_num","following_num","updateProfilePic","updatesPhotos","updateLikedPhotos","redirect","context","orderByChild","equalTo","follow","storage","child","getDownloadURL","url","profile_pic","catch","posts_num","numChildren","entries","forEach","_ref2","slicedToArray","photos","toConsumableArray","snap","post","snaps","value","liked","handleTab","mode","tab_posts","classList","remove","tab_likes","add","handleFollow","on","transaction","push","undefined","match","params","_this2","Redirect","tab","likes","Component","contextType","Updates","updateslist","last_update","moment","fromNow","style","padding","Sidebar","following","user","loading","styles","updates","Comments","commentslist","comment","Post","componentDidMount","post_id","updatePost","updateRedirect","comments","time","Date","toDateString","likes_num","like_num","handleLike","like","console","log","handleDelete","window","confirm","render","handleSave","set","edit","handleEdit","handleEditChange","e","target","handleSubmit","preventDefault","input","new_comment","displayLikesNum","displayPhotosDropdown","desc","class","rows","onChange","onSubmit","display","Posts","postlist","Main","following_list","post_list","_this$state","sidebar","posts","Upload","handleChange","files","name","includes","file","reader","FileReader","onload","document","querySelector","setAttribute","result","innerText","readAsDataURL","handleUpload","extension","split","uuid","shortid","generate","new_name","upload_task","put","progress","bytesTransferred","totalBytes","ServerValue","TIMESTAMP","max","Login","signInWithEmailAndPassword","email","pass","displayName","uid","message","Register","updateLogged","createUserWithEmailAndPassword","updateProfile","registered","selected_username","View","bool","location","redirect_loc","Error","Settings","bio","handleUploadChange","pic_changed","handleBioChange","handleBioSave","profile","PrivateRoute","component","authenticated","rest","objectWithoutProperties","Route","assign","App","fetch","res","json","test","onAuthStateChanged","authUser","updateAuth","Provider","BrowserRouter","navigation","Switch","exact","path","login","register","view","Boolean","hostname","ReactDOM","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.23406934.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","module.exports = \"data:image/png;base64,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\"","import firebase from 'firebase'\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\nimport 'firebase/storage'\r\n\r\nvar config = {\r\n    apiKey: \"AIzaSyAlRpGQL-iX0UOv2Wssir2bIIKaYpPG-iw\",\r\n    authDomain: \"react-social-network-7e88b.firebaseapp.com\",\r\n    databaseURL: \"https://react-social-network-7e88b.firebaseio.com\",\r\n    projectId: \"react-social-network-7e88b\",\r\n    storageBucket: \"react-social-network-7e88b.appspot.com\",\r\n    messagingSenderId: \"906593123724\"\r\n};\r\n\r\nconst app = firebase.initializeApp(config);\r\nfirebase.firestore().settings({timestampsInSnapshots: true})\r\n\r\nexport {app}\r\n","import { createContext } from 'react'\r\n\r\nconst ContextUser = createContext()\r\n\r\nexport default ContextUser;","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport {app} from \"../config/firebase_config\"\r\nimport logo from '../logo.svg';\r\nimport brand from '../brand.png';\r\nimport ContextUser from '../contextUser'\r\n\r\n// functional component which serves as the navigation bar\r\nconst Navigation = (props) => (\r\n    <ContextUser.Consumer> \r\n    {({ state, actions }) => {\r\n        function handleClick() {\r\n            \r\n            app.auth().signOut().then(() => {\r\n                actions.updateAuthLogged(false, null, null)\r\n            }, function(error) {\r\n                alert('Sign Out Error', error);\r\n            });\r\n        }\r\n\r\n        // determines which buttons should be displayed based off weather or not user is logged in\r\n        function buttonsDisplay(logged) {\r\n            let profile_link = \"/u/\" + state.logged\r\n\r\n            // if not logged in, show sign up and login buttons\r\n            if(!logged) {\r\n                return (\r\n                    <div>\r\n                        <Link to=\"/register\" className=\"button is-primary\"><strong>Sign up</strong></Link>\r\n                        <Link to=\"/login\" className=\"button is-light\">Log in</Link>\r\n                    </div>\r\n                )\r\n            // if logged in, show upload, signout, and dropdown button which houses profile and settings link\r\n            } else {\r\n                return (\r\n                    <div>\r\n                        <Link to=\"/upload\" className=\"button is-primary\">Upload</Link>\r\n                        <Link to=\"/login\" onClick={() => handleClick()} className=\"button is-light\">Sign out</Link>\r\n                        <div className=\"dropdown is-hoverable is-right\">\r\n                            <div className=\"dropdown-trigger\">\r\n                                <button className=\"button\" aria-haspopup=\"true\" aria-controls=\"dropdown-menu3\">\r\n                                <span className=\"icon is-small\">\r\n                                    <i className=\"fas fa-angle-down\" aria-hidden=\"true\"></i>\r\n                                </span>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"dropdown-menu\" id=\"dropdown-menu3\" role=\"menu\">\r\n                                <div className=\"dropdown-content\">\r\n                                <Link to={profile_link}  className=\"dropdown-item\">\r\n                                    My Profile\r\n                                </Link>\r\n                                <Link to=\"/settings\" className=\"dropdown-item\">\r\n                                    Settings\r\n                                </Link>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n\r\n\r\n\r\n        return (\r\n            <nav className=\"navbar is-fixed-top\" role=\"navigation\" aria-label=\"main navigation\">\r\n            <div className=\"navbar-brand\">\r\n                <Link to=\"/\" className=\"navbar-item\">\r\n                <img src=\"https://bulma.io/images/bulma-logo.png\" alt=\"\" width=\"112\" height=\"28\"/>\r\n                </Link>\r\n            </div>\r\n\r\n            <div className=\"navbar-start\" id=\"search-nav\">\r\n                <div className=\"navbar-item\">\r\n                    <p className=\"control\">\r\n                        <input className=\"input\" type=\"text\" placeholder=\"Search\"/>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"navbar-end\">\r\n                <div className=\"navbar-item\">\r\n                    <div className=\"buttons\">\r\n                    { buttonsDisplay(state.logged) }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </nav>\r\n        );\r\n    }\r\n}\r\n</ContextUser.Consumer>\r\n)\r\n\r\nexport default Navigation;","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\n\r\n// functional component to display uploaded photos in profile page\r\nconst Photos = (props) => {\r\n    // create liked uploaded photo elements from data passed as props\r\n    const photoslist = props.data.map((obj, index) => {\r\n        let link = \"/p/\" + obj.id\r\n        return (<div key={index} className=\"user-content image is-square\"><Link to={link}><img src={obj.image} alt=\"\"/></Link></div>\r\n        ) \r\n    })\r\n    \r\n\r\n    \r\n    return(\r\n        <div className=\"grid\">\r\n            {photoslist}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Photos;","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\n\r\n// functional component to display liked photos in profile page\r\nconst Likes = (props) => {\r\n    // create liked photo elements from data passed as props\r\n    const likeslist = props.data.map((obj, index) => {\r\n        let link = \"/p/\" + obj.id\r\n        return (<div key={index} className=\"user-content image is-square\"><Link to={link}><img src={obj.image} alt=\"\"/></Link></div>\r\n        ) \r\n    })\r\n    \r\n\r\n    \r\n    return(\r\n        <div className=\"grid\">\r\n            {likeslist}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Likes;","import React, { Component } from 'react';\r\nimport { app } from \"../../config/firebase_config\"\r\nimport { Redirect } from 'react-router-dom'\r\nimport Photos from './photos'\r\nimport Likes from './likes'\r\nimport ContextUser from '../../contextUser'\r\n\r\n//component for the profile page\r\nclass Profile extends Component {\r\n    static contextType = ContextUser;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            mode: \"posts\",\r\n            profile_pic: undefined,\r\n            username: props.match.params.username,\r\n            description: undefined,\r\n            posts_num: 0,\r\n            followers_num: 0,\r\n            following_num: 0,\r\n            follow: false,\r\n            photos: [],\r\n            liked: [],\r\n            redirect: false,\r\n        }\r\n    }\r\n\r\n\r\n\r\n    // Called immediately before mounting occurs, and before Component#render\r\n    componentWillMount = () => {\r\n        // check if the username exists in database\r\n        app.database().ref(`/profile/${this.state.username}`).once(\"value\", (snapshot) => {\r\n            if(snapshot.val()) {\r\n                // update profile state information\r\n                this.setState({\r\n                    description: snapshot.val().description, \r\n                    followers_num: snapshot.val().followers_num,\r\n                    following_num: snapshot.val().following_num\r\n                })\r\n                this.updateProfilePic();\r\n                this.updatesPhotos();\r\n                this.updateLikedPhotos();\r\n            } else {\r\n                // if not redirect to error page\r\n                this.setState({redirect: true})\r\n            }\r\n        });\r\n\r\n        // check if you are following this profile, if so.. toggle follow state\r\n        app.database().ref(`/profile/${this.context.state.logged}/following`).orderByChild('username').equalTo(this.state.username).once(\"value\", (snapshot) => {\r\n            if(snapshot.val()) {\r\n                this.setState({follow: true})\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n\r\n    // retrieve users profile image from storage; if not exist use default.\r\n    updateProfilePic = () => {\r\n        app.storage().ref(`profile/${this.state.username}`).child(\"profile\").getDownloadURL().then((url) => {\r\n            this.setState({profile_pic: url})\r\n        }).catch((error) => {\r\n            this.setState({profile_pic: \"https://firebasestorage.googleapis.com/v0/b/react-social-network-7e88b.appspot.com/o/assets%2Fdefault.png?alt=media\"})\r\n        })\r\n    }\r\n\r\n\r\n\r\n    // retrieve users uploaded photos\r\n    updatesPhotos = () => {\r\n        app.database().ref(`/posts`).orderByChild('username').equalTo(this.state.username).once(\"value\", (snapshot) => {\r\n            if(snapshot.val()) {\r\n                // update posts number\r\n                this.setState({posts_num: snapshot.numChildren()})\r\n\r\n                // for each photo object, insert the objects key inside itself as a key value pair,\r\n                // then, append object to photos array state\r\n                Object.entries(snapshot.val()).forEach(([key, val]) => {\r\n                    val.id = key\r\n\r\n                    this.setState({photos: [...this.state.photos, val]})\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n    // retrieve all photos that were liked from logged user\r\n    updateLikedPhotos = () => {\r\n        app.database().ref(`/profile/${this.state.username}/liked`).once(\"value\", (snapshot) => {\r\n            if(snapshot.val()) {\r\n\r\n                // for each photo object, append to photos array state\r\n                snapshot.forEach(snap => {\r\n                    app.database().ref(`/posts/${snap.val().post}`).once(\"value\", (snaps) => {\r\n                        if(snaps.val()) {\r\n                            let value = {id: snap.val().post, image: snaps.val().image}\r\n                            this.setState({liked: [...this.state.liked, value]})\r\n                        }\r\n                    })\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n    // handles the click event on posts/liked tab, toggles which should be shown\r\n    handleTab = () => {\r\n        if(this.state.mode == \"posts\") {\r\n            this.tab_posts.classList.remove(\"is-active\")\r\n            this.tab_likes.classList.add(\"is-active\")\r\n            this.setState({mode: \"likes\"})\r\n        } \r\n        \r\n        else if(this.state.mode == \"likes\") {\r\n            this.tab_likes.classList.remove(\"is-active\")\r\n            this.tab_posts.classList.add(\"is-active\")\r\n            this.setState({mode: \"posts\"})\r\n        }\r\n    }\r\n\r\n\r\n\r\n    // handles the click event on the follow button, toggles between follow / unfollow\r\n    handleFollow = () => {\r\n        // user must be logged in to follow/unfolow\r\n        if(!this.context.state.logged) {\r\n            alert(\"You must be logged in to do that.\")\r\n            return\r\n          }\r\n\r\n        // if logged in user is not following the profile\r\n        if(!this.state.follow) {\r\n            // follow the profile user; add them to logged users following list \r\n            app.database().ref(`/profile/${this.context.state.logged}/following`).push({\r\n                username: this.state.username\r\n            }).then(() => {\r\n                // then increment following num\r\n                app.database().ref(`/profile/${this.context.state.logged}/following_num`).transaction((value) => {\r\n                    return value + 1;\r\n                  });\r\n                // and set follow to true\r\n                this.setState({\r\n                    follow: true,\r\n                    followers_num: this.state.followers_num + 1})\r\n            })\r\n\r\n            // add logged user to profile users follwers list\r\n            app.database().ref(`/profile/${this.state.username}/followers`).push({\r\n                username: this.context.state.logged\r\n            }).then(() => {\r\n                // then increment followers num.\r\n                app.database().ref(`/profile/${this.state.username}/followers_num`).transaction((value) => {\r\n                    return value + 1;\r\n                  });\r\n            })\r\n        }\r\n\r\n        // if logged in user is following the profile\r\n        else {\r\n            // unfollow the profile user;\r\n            app.database().ref(`/profile/${this.context.state.logged}/following`).orderByChild('username').equalTo(this.state.username).on(\"child_added\", (snapshot) => {\r\n                if(snapshot.val()) {\r\n                    // remove them from logged users following list\r\n                    if(snapshot.val().username === this.state.username) {\r\n                        snapshot.ref.remove()\r\n                        // then decrement following num\r\n                        app.database().ref(`/profile/${this.context.state.logged}/following_num`).transaction((value) => {\r\n                            return value - 1;\r\n                          });\r\n                        // and set following to false\r\n                        this.setState({\r\n                        follow: false,\r\n                        followers_num: this.state.followers_num - 1})\r\n                    }\r\n                }\r\n            })\r\n\r\n            //remove logged user from profile users follwers list\r\n            app.database().ref(`/profile/${this.state.username}/followers`).orderByChild('username').equalTo(this.context.state.logged).on(\"child_added\", (snapshot) => {\r\n                if(snapshot.val()) {\r\n                    if(snapshot.val().username === this.context.state.logged) {\r\n                        snapshot.ref.remove()\r\n                        // then decrement followers num\r\n                        app.database().ref(`/profile/${this.state.username}/followers_num`).transaction((value) => {\r\n                            return value - 1;\r\n                          });\r\n                        }\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    \r\n    render() {\r\n        if(this.state.redirect) {\r\n            return <Redirect to=\"/error\"/>\r\n        } else {\r\n        return(\r\n            <div className=\"profile\">\r\n            <div className=\"card\">\r\n                <header className=\"card-header\">\r\n                    <figure className=\"image profile-avatar\">\r\n                        <img className=\"is-rounded\" src={this.state.profile_pic} alt=\"\"/>\r\n                    </figure>\r\n                    <div className=\"card-header-content profile-info\">\r\n                        <h1 className=\"title\">{this.state.username}</h1>\r\n                        <div className=\"stats\">\r\n                            <ul>\r\n                                <li><span className=\"post_num\">{this.state.posts_num}</span> posts</li>\r\n                                <li><span className=\"follower_num\">{this.state.followers_num}</span> followers</li>\r\n                                <li><span className=\"following_num\">{this.state.following_num}</span> following</li>\r\n                            </ul>\r\n                        </div>\r\n                        <p>\r\n                        {this.state.description}\r\n                        </p>\r\n                        <div className=\"profile-options\">\r\n                        {this.state.follow ? \r\n                            <button onClick={this.handleFollow} className=\"button is-primary is-small\">Unfollow</button>\r\n                            :\r\n                            <button onClick={this.handleFollow} className=\"button is-primary is-outline is-small\">Follow</button>\r\n                        }\r\n                        </div>\r\n                    </div>\r\n\r\n                </header>\r\n                <div className=\"card-content\">\r\n                    <div className=\"tabs is-centered\">\r\n                        <ul>\r\n                        <li ref={(tab) => this.tab_posts = tab} className=\"tab-posts is-active\" onClick={this.handleTab}><a>Posts</a></li>\r\n                        <li ref={(tab) => this.tab_likes = tab} className=\"tab-likes\" onClick={this.handleTab}><a>Liked</a></li>\r\n                        </ul>\r\n                    </div>\r\n                    {this.state.mode == \"posts\" ? <Photos data={this.state.photos}/> : <Likes data={this.state.liked}/> }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            )\r\n    }\r\n}\r\n}\r\n\r\nProfile.contextType = ContextUser;\r\n\r\n\r\nexport default Profile;","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport * as moment from 'moment'\r\n\r\n// functional component for sidebar component in main page\r\nconst Updates = (props) => {\r\n    // create Update elements from data passed as props\r\n    const updateslist = props.data.map((obj, index) => {\r\n        let last_update = obj.last_update != undefined ? moment(obj.last_update).fromNow() : \"never\"\r\n\r\n        return (<tr key={index}>\r\n            <td>\r\n                <div className=\"media\">\r\n                    <figure className=\"image is-32x32\">\r\n                    <img src={obj.profile_pic} alt=\"\"/>\r\n                    </figure>\r\n                    <div className=\"media-right\">\r\n                        <Link to={`/u/${obj.username}`}>{obj.username}</Link>\r\n                    </div>\r\n                </div>\r\n            </td>\r\n            <td>{last_update}</td>\r\n        </tr>)\r\n    })\r\n\r\n\r\n\r\n    return(\r\n        <div className=\"updates\">\r\n            <div className=\"panel-block\" style={{padding: 0 + \"px\"}}>\r\n            <table className=\"table is-striped is-fullwidth\">\r\n                <tbody>\r\n                {props.data == 0 && (\r\n                    <tr><td className=\"has-text-centered\">There are no updates</td></tr>)\r\n                }\r\n                {updateslist}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Updates;","import React, { Component } from 'react';\r\nimport Updates from './updates'\r\nimport {app} from \"../../config/firebase_config\"\r\n\r\n// side bar component for main page\r\nclass Sidebar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            data: [],\r\n            loading: true\r\n        }\r\n    }\r\n\r\n\r\n\r\n    // Called immediately before mounting occurs, and before Component#render\r\n    componentWillMount = () => { \r\n        // for each user being followed,\r\n        this.props.following.forEach((user) => {\r\n            // find their profile information\r\n            app.database().ref(`/profile/${user}`).once(\"value\", (snapshot) => {\r\n                if(snapshot.val()) {    \r\n                    // get their profile pic, username, and last update\r\n                    app.storage().ref(`profile/${user}`).child(\"profile\").getDownloadURL().then((url) => {\r\n                        let value = {\r\n                            profile_pic: url,\r\n                            username: snapshot.key,\r\n                            last_update: snapshot.val().last_update}\r\n                        // add that information to the list of updates\r\n                        this.setState({data: [...this.state.data, value]})\r\n                    }).catch((error) => {\r\n                        // if no profile pic, use the default pic\r\n                        let value = {\r\n                            profile_pic: \"https://firebasestorage.googleapis.com/v0/b/react-social-network-7e88b.appspot.com/o/assets%2Fdefault.png?alt=media\",\r\n                            username: snapshot.key,\r\n                            last_update: snapshot.val().last_update}\r\n                        // add that information to the list of updates\r\n                        this.setState({data: [...this.state.data, value]})\r\n                    })\r\n                }\r\n            })\r\n        })\r\n        // now component can be loaded\r\n        this.setState({loading: false})\r\n    }\r\n\r\n\r\n    \r\n    render() {\r\n        if(this.state.loading) {\r\n            return null\r\n        } else {\r\n            return(\r\n                <div className=\"sidebar\">\r\n                    <nav className=\"panel\" styles=\"background-color: white;\">\r\n                        <p className=\"panel-heading has-text-centered\">\r\n                            Updates\r\n                        </p>\r\n                        <Updates data={this.state.data}/>\r\n                    </nav>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Sidebar;","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\n\r\n// functional component to display all commments of a photo\r\nconst Comments = (props) => {\r\n\r\n    // create comments elements from data passed as props\r\n    const commentslist = props.data.map((obj, index) => {\r\n        let link = \"/u/\" + obj.username\r\n        return (<li key={index}><span className=\"comment-username\"><Link to={link}>{obj.username}</Link></span> <span className=\"comment\">{obj.comment}</span></li>) \r\n    })\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"comments\">\r\n            <ul>\r\n                {commentslist}\r\n            </ul>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Comments;","import React, { Component } from 'react';\r\nimport {app } from \"../config/firebase_config\"\r\nimport { Redirect, Link } from 'react-router-dom'\r\nimport Comments from './comments'\r\nimport ContextUser from '../contextUser'\r\n// component to display a photo post\r\nclass Post extends Component {\r\n    static contextType = ContextUser;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            username: undefined,\r\n            profile_pic: undefined,\r\n            time: undefined,\r\n            description: undefined,\r\n            edit: false,\r\n            post_id: props.post_id,\r\n            image: undefined,\r\n            comments: [],\r\n            likes_num: 0,\r\n            liked: false,\r\n            render: true,\r\n        }\r\n    }\r\n\r\n\r\n    // Called immediately after a component is mounted. Setting state here will trigger re-rendering.\r\n    componentDidMount = () => {\r\n        // retrieve post data for post id\r\n        app.database().ref(`/posts/${this.state.post_id}`).once('value', (snapshot) => {\r\n            // if it exists, update states for post\r\n            if(snapshot.val()) {\r\n                this.updatePost(snapshot);\r\n            // if not redirect to error page\r\n            } else {\r\n                this.props.updateRedirect(true, \"error\")\r\n            }\r\n        }).then(() => {\r\n            // retrieve posters profile pic, if not exist use default image\r\n            app.storage().ref(`profile/${this.state.username}`).child(\"profile\").getDownloadURL().then((url) => {\r\n                this.setState({profile_pic: url})\r\n            }).catch((error) => {\r\n                this.setState({profile_pic: \"https://firebasestorage.googleapis.com/v0/b/react-social-network-7e88b.appspot.com/o/assets%2Fdefault.png?alt=media\"})\r\n            })\r\n    })\r\n\r\n        // check if logged user had liked the image\r\n        app.database().ref(`/posts/${this.state.post_id}/liked`).orderByChild('username').equalTo(this.context.state.logged).once(\"value\", (snapshot) => {\r\n            // if they did, set liked state to true, which will toggle the like button\r\n            if(snapshot.val()) {\r\n            this.setState({liked: true})\r\n            } \r\n        });\r\n\r\n      // retrieve the comments for the post\r\n        let commentsref = app.database().ref(`/comments/${this.state.post_id}`);\r\n        commentsref.once(\"value\", (snapshot) => {\r\n            if(snapshot.val()) {\r\n                Object.entries(snapshot.val()).forEach(([key, val]) => {\r\n                    this.setState({comments: [...this.state.comments, val]})\r\n                });\r\n            } \r\n        });\r\n    }\r\n\r\n\r\n\r\n    // updates post states from database if it exists\r\n    updatePost = (snapshot) => {\r\n        this.setState({\r\n            username: snapshot.val().username,\r\n            description: snapshot.val().description,\r\n            time: new Date(snapshot.val().time).toDateString(),\r\n            image: snapshot.val().image,\r\n            likes_num: snapshot.val().like_num\r\n        })\r\n    }\r\n\r\n\r\n\r\n    // handles click event for like/unlike button\r\n    handleLike = () => {\r\n\r\n        // only authenticated useres can like a photo\r\n        if(!this.context.state.logged) {\r\n            alert(\"You must be logged in to do that.\")\r\n            return\r\n        }\r\n\r\n      // if button click, and state is not initailly liked,\r\n        if(!this.state.liked) {\r\n            let likeref = app.database().ref(`/posts/${this.state.post_id}/liked`)\r\n        \r\n            // like the post by setting a like variable with the logged users name as value in database.\r\n            likeref.push({\r\n            username: this.context.state.logged\r\n        }).then((snap) => {\r\n            // increment the posts like num\r\n            app.database().ref(`/posts/${this.state.post_id}/like_num`).transaction((like) => {\r\n                return like + 1;\r\n            });\r\n\r\n            // set the posts like state to true\r\n            this.setState({liked: true, likes_num: this.state.likes_num + 1})\r\n            // add a reference to the liked image to the logged users profile account\r\n            app.database().ref(`/profile/${this.context.state.logged}/liked`).push({post: this.state.post_id})\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n\r\n        // if button click, and state is  initailly liked\r\n        } else {\r\n            app.database().ref(`/posts/${this.state.post_id}/liked`).orderByChild('username').equalTo(this.context.state.logged).once(\"value\", (snapshot) => {\r\n                if(snapshot.val()) {\r\n                    snapshot.forEach((snap) => {\r\n                        if(snap.val().username === this.state.username) {\r\n                            snap.ref.remove()\r\n                            app.database().ref(`/posts/${this.state.post_id}/like_num`).transaction((like) => {\r\n                                return like - 1;\r\n                            });\r\n                            this.setState({liked: false, likes_num: this.state.likes_num - 1})\r\n\r\n                            app.database().ref(`/profile/${this.context.state.logged}/liked`).orderByChild('post').equalTo(this.state.post_id).once(\"value\", (snapshot) => {\r\n                                if(snapshot.val()) {\r\n                                    snapshot.forEach((snap) => {\r\n                                        if(snap.val().post == this.state.post_id) {\r\n                                            snap.ref.remove()\r\n                                            return\r\n                                        }\r\n                                    })\r\n                                }\r\n                            })\r\n                            return\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n\r\n    // handles the deletion of a post\r\n    handleDelete = () => {\r\n        let input = window.confirm(\"Are you sure you want to delete this photo?\")\r\n\r\n        if(input) {\r\n            app.database().ref(`/posts`).child(this.state.post_id).remove().then(() => {\r\n            alert(\"Photo deleted!\")\r\n            this.setState({render: false})\r\n            })\r\n        }\r\n\r\n        if(this.props.updateRedirect) {\r\n            this.props.updateRedirect(true, \"profile\")\r\n        }\r\n    }\r\n\r\n\r\n\r\n    // handles the edit save of a post\r\n    handleSave = () => {\r\n        app.database().ref(`/posts/${this.state.post_id}/description`).set(this.state.description).then(() => {\r\n            this.setState({edit: false})\r\n            alert(\"saved\")\r\n        }).catch((error) => {\r\n            alert(error)\r\n        })\r\n    }\r\n\r\n\r\n\r\n    // handle the click event on edit button\r\n    handleEdit = () => {\r\n        this.setState({edit: true})\r\n    }\r\n\r\n\r\n\r\n    // handles whatever description change\r\n    handleEditChange = (e) => {\r\n        this.setState({description: e.target.value})\r\n    }\r\n\r\n\r\n\r\n    // handles the submssion of a comment\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if(!this.context.state.logged) {\r\n            alert(\"You must be logged in to do that.\")\r\n            return\r\n        }\r\n        \r\n        app.database().ref(`/comments`).child(this.state.post_id).push({\r\n            username: this.context.state.logged,\r\n            comment: this.input.value\r\n        }).then((snap) => {\r\n            let new_comment = {username: this.context.state.logged, comment: this.input.value}\r\n            this.setState({comments: [...this.state.comments, new_comment]})\r\n\r\n            this.input.value = \"\"\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n\r\n\r\n    // determines noun form of likes\r\n    displayLikesNum = () => {\r\n      if(this.state.likes_num == 1) {\r\n        return <span className=\"likes-num\">{this.state.likes_num} <label>like</label></span>\r\n      } else {\r\n        return <span className=\"likes-num\">{this.state.likes_num} <label>likes</label></span>\r\n      }\r\n    }\r\n\r\n\r\n\r\n    // determines weather or not to display the edit/delete dropdown.\r\n    displayPhotosDropdown = () => {\r\n      // display only if the user owns the image\r\n      if(this.state.username == this.context.state.logged) {\r\n        return (   \r\n          <div className=\"dropdown is-hoverable is-right is-small photo-dropdown\">\r\n          <div className=\"dropdown-trigger\">\r\n              <button className=\"button\" aria-haspopup=\"true\" aria-controls=\"dropdown-menu3\">\r\n              <span className=\"icon is-small\" style={{height: 0 + \"px\"}}>\r\n                  <i className=\"fas fa-angle-down\" aria-hidden=\"true\"></i>\r\n              </span>\r\n              </button>\r\n          </div>\r\n          <div className=\"dropdown-menu\" id=\"dropdown-menu3\" role=\"menu\">\r\n              <div className=\"dropdown-content\">\r\n              <a onClick={this.handleEdit} className=\"dropdown-item\">\r\n                  Edit\r\n              </a>\r\n              <a onClick={this.handleDelete} className=\"dropdown-item\">\r\n                  Delete\r\n              </a>\r\n\r\n              </div>\r\n          </div>\r\n      </div>\r\n        )\r\n      } else {\r\n        return null\r\n      }\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n      if(this.state.redirect) {\r\n        return <Redirect to=\"/error\"/>\r\n      } else {\r\n        if(this.state.render) {\r\n            return (\r\n                <div className=\"post\">\r\n                <div className=\"card\">\r\n                <header>\r\n                  <div className=\"media is-fullwidth\">\r\n                    <figure className=\"image is-48x48\">\r\n                      <img src={this.state.profile_pic} alt=\"\"/>\r\n                    </figure>\r\n                    <p className=\"card-header-title content-username\">\r\n                      <Link to={`/u/${this.state.username}`}>{this.state.username}</Link>\r\n                    </p>\r\n                    <Link target=\"_blank\" to={\"/p/\".concat(`${this.state.post_id}`)}><button className=\"button is-light is-small is-pulled-right share\">Share</button></Link> \r\n                    \r\n                    {this.displayPhotosDropdown()}\r\n\r\n                  </div>\r\n                </header>\r\n          \r\n                <div className=\"card-image\">\r\n                  <figure className=\"image\">\r\n                    <img src={this.state.image} alt=\"\"/>\r\n                  </figure>\r\n                </div>\r\n                <div className=\"card-content\">\r\n                  <div className=\"content\">\r\n                    <div className=\"content-options\">\r\n                      {this.state.liked ? <button onClick={this.handleLike} className=\"button is-danger is-small\">Unlike</button>\r\n                      :\r\n                      <button onClick={this.handleLike} className=\"button is-danger is-outlined is-small\">Like</button>\r\n                      }\r\n                      {this.state.likes_num > 0 && <span className=\"likes-num\">{this.state.likes_num} <label>likes</label></span>}\r\n                    <time className=\"content-time\">{this.state.time}</time></div>\r\n                    <div className=\"content-body\"  ref={(desc) => this.desc = desc}>\r\n                    {\r\n                      this.state.edit ? (\r\n                        <div>\r\n                          <textarea class='textarea' rows='1' onChange={this.handleEditChange}>{this.state.description}</textarea>\r\n                          <div class=\"field is-grouped edit-buttons\">\r\n                            <p class=\"control\">\r\n                              <button class='button is-primary is-small' onClick={this.handleSave}>Save</button>\r\n                            </p>\r\n                            <p class=\"control\">\r\n                              <button class='button is-primary is-small' onClick={() => this.setState({edit: false})}>Cancel</button>\r\n                              </p>\r\n                          </div>\r\n                      </div>\r\n                      ) : \r\n                      (this.state.description)\r\n                    }\r\n                    \r\n                    </div>\r\n                      <hr/>\r\n                      {this.context.state.logged && <Comments data={this.state.comments}/>}\r\n\r\n                    <form onSubmit={this.handleSubmit} style={{display: this.context.state.logged ? 'block' : 'none' }}>\r\n                      <div className=\"field has-addons\">\r\n                        <div className=\"control is-expanded\">\r\n                          <input ref={(input) => this.input = input} className=\"input\" type=\"text\" placeholder=\"Add a comment\" />\r\n                        </div>\r\n                        <div className=\"control\">\r\n                          <button className=\"button is-primary\" type=\"submit\">\r\n                          Submit\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </form>\r\n    \r\n                  </div>\r\n                </div>\r\n                </div>\r\n                </div>\r\n        );\r\n        } else {\r\n          return null\r\n        }\r\n      }\r\n    }\r\n}\r\n\r\nPost.contextType = ContextUser;\r\n\r\nexport default Post;","import React from 'react';\r\nimport Post from '../post'\r\nimport ContextUser from '../../contextUser'\r\n\r\nconst Posts = (props) => {\r\n    // create Post elements from data passed as props\r\n    const postlist = props.data.map((obj, index) => {\r\n        return (<Post key={index} post_id={obj}/>) \r\n    })\r\n\r\n    return (\r\n        <div className=\"posts\">\r\n            {props.data == 0 && <p>There are no posts.</p>}\r\n            {postlist}\r\n        </div>\r\n    )\r\n}\r\nexport default Posts;","import React, { Component } from 'react';\r\nimport { app } from \"../../config/firebase_config\"\r\nimport Sidebar from './sidebar'\r\nimport Posts from './posts'\r\nimport ContextUser from '../../contextUser'\r\n\r\n// component for the main page\r\nclass Main extends Component {\r\n    static contextType = ContextUser;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            loading: true,\r\n            following_list: [],\r\n            post_list: []\r\n        }\r\n    }\r\n\r\n\r\n    // Called immediately after a component is mounted. Setting state here will trigger re-rendering.\r\n    componentDidMount = () => {\r\n        // retrieve list of followed users\r\n        app.database().ref(`/profile/${this.context.state.logged}/following`).once(\"value\", (snapshot) => {\r\n            if(snapshot.val()) {\r\n                snapshot.forEach((snap) => {\r\n                    this.setState({following_list: [...this.state.following_list, snap.val().username]})\r\n                })\r\n                // then retrieve all of the followered users posts\r\n                this.state.following_list.forEach((user) => {\r\n                    app.database().ref(`/posts`).orderByChild('username').equalTo(user).once(\"value\", (snapshot) => {\r\n                        if(snapshot.val()) {\r\n                            snapshot.forEach((snap) => {\r\n                                this.setState({post_list: [...this.state.post_list, snap.key]})\r\n                            })\r\n                        } \r\n                    })\r\n                })\r\n                // once done fetching, now the component can be rendered\r\n                this.setState({loading: false})\r\n            } else {\r\n                this.setState({loading: false})\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const {following_list, post_list, loading} = this.state\r\n\r\n        if(loading) {\r\n            return <div>loading...</div>;\r\n        } else {\r\n            return(\r\n                <div className=\"main\">\r\n                    <div className=\"grid-container\">\r\n                        <Sidebar following={following_list}/>\r\n                        <Posts data={post_list}/>\r\n                    </div>            \r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nMain.contextType = ContextUser;\r\n\r\nexport default Main;","import React, { Component } from 'react';\r\nimport {app} from \"../../config/firebase_config\"\r\nimport firebase from \"firebase\"\r\nimport shortid from 'shortid'\r\nimport { Redirect } from 'react-router-dom'\r\nimport ContextUser from '../../contextUser'\r\n\r\n// component for the upload page\r\nclass Upload extends Component {\r\n    static contextType = ContextUser;\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            file: null,\r\n            uuid: undefined,\r\n            redirect: false,\r\n            progress: false,\r\n        }\r\n    }\r\n    \r\n\r\n\r\n    // handles file selection change\r\n    handleChange = (e) => {\r\n        // if a file was selected\r\n        if(e.target.files) {\r\n            let type = e.target.files[0].type\r\n            let name = e.target.files[0].name   \r\n\r\n            // only accept files that are images\r\n            if (type.includes(\"image\")) {\r\n                this.setState({file: e.target.files[0]})\r\n\r\n                var reader = new FileReader();\r\n                \r\n                // once loaded, change profile pic \r\n                reader.onload = (e) => {\r\n                    document.querySelector(\"#preview\").setAttribute('src', e.target.result)\r\n                    document.querySelector(\".file-name\").innerText = name\r\n\r\n                };\r\n                reader.readAsDataURL(e.target.files[0]);\r\n            } else {\r\n                alert(\"File must be a picture. Try again\")\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    // handles file upload\r\n    handleUpload = (e) => {\r\n        if(this.state.file) {\r\n            let image = this.state.file\r\n            let extension = image.type.split('/')[1]\r\n\r\n            // generate a unique identifier for photo\r\n            let uuid = shortid.generate()\r\n\r\n            let new_name = uuid + '.' + extension\r\n            let upload_task = app.storage().ref(`/images/${this.context.state.logged}/${new_name}`).put(image)\r\n\r\n            // set progress to true to make progress bar appear\r\n            this.setState({progress: true})\r\n\r\n            // listener for upload progress\r\n            upload_task.on('state_changed', (snapshot) => {\r\n                // update progress value through reference\r\n                this.progress.value = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n            },(error) => {\r\n                console.log(error)\r\n            }, () => {\r\n                \r\n                // upload the image to storage\r\n                app.storage().ref(`images/${this.context.state.logged}`).child(new_name).getDownloadURL().then((url) => {\r\n                    let description = document.querySelector(\"#description\").value;\r\n\r\n                    // create photo object with image and other info\r\n                    app.database().ref('/posts').child(uuid).set({\r\n                        username: this.context.state.logged,\r\n                        time: firebase.database.ServerValue.TIMESTAMP,\r\n                        description: description,\r\n                        image: url,\r\n                    }).then((snap) => {\r\n                        // update logged users last_update time\r\n                        app.database().ref(`/profile/${this.context.state.logged}/last_update`).set(firebase.database.ServerValue.TIMESTAMP)\r\n                        \r\n                        // then redirect to the actual photo post\r\n                        this.setState({redirect: true, uuid: uuid })\r\n                    })\r\n                })\r\n            })\r\n        } else {\r\n            alert(\"Select an image before submitting\")\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        if(this.state.redirect) {\r\n            let link = \"/p/\" + this.state.uuid\r\n            return <Redirect to={link}/>\r\n        } else {\r\n            return(\r\n                <div className=\"upload\">\r\n                    <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                        <p className=\"card-header-title is-centered\">\r\n                        Upload image\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"card-content\">\r\n                    <div className=\"file has-name is-centered\">\r\n                    <label className=\"file-label\">\r\n                        <input className=\"file-input\" type=\"file\" name=\"resume\" onChange={this.handleChange}/>\r\n                        <span className=\"file-cta\">\r\n                        <span className=\"file-icon\">\r\n                            <i className=\"fas fa-upload\"></i>\r\n                        </span>\r\n                        <span className=\"file-label\">\r\n                            Choose a file…\r\n                        </span>\r\n                        </span>\r\n                        <span className=\"file-name\">\r\n                        None\r\n                        </span>\r\n                    </label>\r\n                    </div><br/>\r\n                    <div>\r\n                    <img className=\"is-center is-rounded\" id=\"preview\" alt=\"\" src=\"\"/>\r\n                    </div><br/>\r\n\r\n                    <progress className=\"progress is-primary\" ref={(progress) => this.progress = progress} style={{display: this.state.progress === true ? 'block' : 'none' }} max=\"100\" ></progress>\r\n\r\n                    <textarea id=\"description\" className=\"textarea\" placeholder=\"Description\"></textarea><br/>\r\n                    <button className=\"button is-primary\" onClick={this.handleUpload}>Submit</button>   \r\n                </div>\r\n                </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nUpload.contextType = ContextUser;\r\n\r\nexport default Upload;","import React, { Component } from 'react';\r\nimport { app } from \"../../config/firebase_config\"\r\nimport { Redirect } from 'react-router-dom'\r\nimport ContextUser from '../../contextUser'\r\n\r\n// component for the login page\r\nclass Login extends Component {\r\n    static contextType = ContextUser;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            redirect: false\r\n        }\r\n    }\r\n\r\n\r\n\r\n    // handles login submission\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        // sign in using fire base authentication service\r\n        app.auth().signInWithEmailAndPassword(this.email.value, this.pass.value).then((obj)=> {\r\n            // update auth states in root component\r\n            this.context.actions.updateAuthLogged(true, obj.user.displayName, obj.user.uid)\r\n        }).catch((error) => {\r\n            alert(error.message)\r\n        })\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        if(this.state.redirect) {\r\n            return <Redirect to=\"/\"/>\r\n        } else {\r\n            return(\r\n                <div className=\"login\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-header\">\r\n                            <p className=\"card-header-title is-centered\">\r\n                            Login\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"card-content\">\r\n                        <form onSubmit={this.handleSubmit}>\r\n                            <input ref={(email) => this.email = email} className=\"input is-centered\" type=\"email\" placeholder=\"Email\"></input>\r\n                            <br/><br/>\r\n                            <input ref={(pass) => this.pass = pass} className=\"input is-centered\" type=\"password\" placeholder=\"Password\"></input>\r\n                            <br/><br/>\r\n                            <button type=\"submit\" className=\"button is-primary is-fullwidth\">Enter</button>\r\n                        </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nLogin.contextType = ContextUser;\r\n\r\nexport default Login;","import React, { Component } from 'react';\r\nimport { app } from \"../../config/firebase_config\"\r\nimport { Redirect } from 'react-router-dom'\r\nimport ContextUser from '../../contextUser'\r\n\r\nclass Register extends Component {\r\n    static contextType = ContextUser;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            registered: false,\r\n            selected_username: false,\r\n            redirect: false\r\n        }\r\n    }\r\n\r\n\r\n    \r\n    // updates logged state in root component\r\n    updateLogged = (user) => {\r\n        this.context.actions.updateLogged(user);\r\n        this.setState({redirect: true})                     \r\n    }\r\n\r\n\r\n\r\n    // handles registration submission\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const user = this.user.value\r\n\r\n        // check if username already exists\r\n        app.database().ref(`/profile/${user}`).once(\"value\", (snapshot) => {\r\n            if(snapshot.val()) {\r\n                alert(\"Username already exists. Try Again.\")\r\n            } else {\r\n                // create account with fire base authentication\r\n                app.auth().createUserWithEmailAndPassword(this.email.value, this.pass.value).then((obj)=> {\r\n                    app.database().ref('/profile').child(user).set({\r\n                        uid: obj.user.uid,\r\n                        description: \"No description\",\r\n                        followers_num: 0,\r\n                        following_num: 0\r\n                    }).then(() => {\r\n                        // update display name in firebase auth user object\r\n                        obj.user.updateProfile({\r\n                            displayName: user\r\n                        }).then(() => {\r\n                            // update authenticated user states in root component\r\n                            this.updateLogged(user)\r\n                        })\r\n                    })\r\n                    // create the user profile\r\n                    app.database().ref(`/profile/${user}/following`).push({\r\n                        username: user,\r\n                    })\r\n                }).catch((error) => {\r\n                    alert(error.message)\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    \r\n    render() {\r\n        if(this.state.redirect) {\r\n            return <Redirect to=\"/\"/>\r\n        } else {\r\n            return(\r\n                <div className=\"register\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-header\">\r\n                            <p className=\"card-header-title is-centered\">\r\n                            Register\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div className=\"card-content\">\r\n                        <form onSubmit={this.handleSubmit}>\r\n                            <input ref={(email) => this.email = email} className=\"input is-centered\" type=\"email\" placeholder=\"Email\"></input>\r\n                            <br/><br/>\r\n                            <input ref={(user) => this.user = user} className=\"input is-centered\" type=\"text\" placeholder=\"Username\"></input>\r\n                            <br/><br/>\r\n                            <input ref={(pass) => this.pass = pass} className=\"input is-centered\" type=\"password\" placeholder=\"Password\"></input>\r\n                            <br/><br/>\r\n                            <button type=\"submit\" className=\"button is-primary is-fullwidth\">Enter</button>\r\n                        </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nRegister.contextType = ContextUser;\r\n\r\nexport default Register;","import React, { Component } from 'react';\r\nimport Post from '../post'\r\nimport { Redirect, Link } from 'react-router-dom'\r\nimport ContextUser from '../../contextUser'\r\n\r\n// container component for viewing a single picture\r\nclass View extends Component {\r\n    static contextType = ContextUser;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            redirect_loc: undefined,\r\n            redirect: false\r\n        }\r\n    }\r\n\r\n    // handles the redirection, passed as a callback to Post component\r\n    // Two redirections:\r\n    // 1) to the photo\r\n    // 2) to error page, if photo doesnt exist\r\n    updateRedirect = (bool, location) => {\r\n        this.setState({redirect: bool, redirect_loc: location})\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        if (this.state.redirect && this.state.redirect_loc == \"error\") {\r\n            return <Redirect to={`/error`}/>\r\n        } else if (this.state.redirect && this.state.redirect_loc == \"profile\") {\r\n            return <Redirect to={`/u/${this.context.state.logged}`}/>\r\n        } else {\r\n            return (\r\n            <div className=\"view\">\r\n                <Post updateRedirect={this.updateRedirect} post_id={this.props.match.params.id}/>\r\n            </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nView.contextType = ContextUser;\r\n\r\n\r\nexport default View;","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\n\r\n// functional component for the errors page\r\nconst Error = () => {\r\n    return(\r\n        <div className=\"error\">\r\n            <section className=\"hero is-large is-primary\">\r\n            <div className=\"hero-body\">\r\n                <div className=\"container has-text-centered\">\r\n                <h1 className=\"title\">\r\n                    404 Error\r\n                </h1>\r\n                <h2 className=\"subtitle\">\r\n                    Unable to find requested content\r\n                </h2>\r\n                <Link to=\"/\"><button className=\"button is-light\">Home</button></Link>\r\n                </div>\r\n            </div>\r\n            </section>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error;","import React, { Component } from 'react';\r\nimport { app } from \"../../config/firebase_config\"\r\nimport { Redirect } from 'react-router-dom'\r\nimport ContextUser from '../../contextUser'\r\n\r\n// component for the settings page\r\nclass Settings extends Component {\r\n    static contextType = ContextUser;\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            profile_pic: undefined,\r\n            bio: undefined,\r\n            file: null,\r\n            redirect: false,\r\n            progress: false\r\n        }\r\n    }\r\n\r\n\r\n    \r\n    // Called immediately before mounting occurs, and before Component#render\r\n    componentWillMount = () => {\r\n        // retrieve logged users current profile picture\r\n        app.storage().ref(`profile/${this.context.state.logged}`).child(\"profile\").getDownloadURL().then((url) => {\r\n            this.setState({profile_pic: url})\r\n        }).catch((error) => {\r\n            this.setState({profile_pic: \"https://firebasestorage.googleapis.com/v0/b/react-social-network-7e88b.appspot.com/o/assets%2Fdefault.png?alt=media\"})\r\n        })\r\n\r\n        // retrieve their bio\r\n        app.database().ref(`/profile/${this.context.state.logged}`).once(\"value\", (snapshot) => {\r\n            if(snapshot.val()) {\r\n                this.setState({bio: snapshot.val().description})\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n\r\n    // handles file upload submission\r\n    handleUpload = (e) => {\r\n        if(this.state.file) {\r\n            let upload_task = app.storage().ref(`/profile/${this.context.state.logged}/profile`).put(this.state.file)\r\n\r\n            // set progress to true to make progress bar appear\r\n            this.setState({progress: true})\r\n\r\n            // listener for upload progress\r\n            upload_task.on('state_changed', (snapshot) => {\r\n                // update progress value through reference\r\n                this.progress.value = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n            },(error) => {\r\n                console.log(error)\r\n            }, () => {\r\n\r\n                // update profile picture\r\n                app.storage().ref(`profile/${this.context.state.logged}`).child(\"profile\").getDownloadURL().then((url) => {\r\n                    this.setState({profile_pic: url})\r\n                    // hide process since its done\r\n                    this.setState({progress: false})\r\n                    alert(\"Profile picture changed!\")\r\n                })\r\n            })\r\n        } else {\r\n            alert(\"Select an image before submitting\")\r\n        }\r\n    }\r\n\r\n    // handles file upload selection\r\n    handleUploadChange = (e) => {\r\n        // if a file was selected\r\n        if(e.target.files) {\r\n            let type = e.target.files[0].type\r\n\r\n            // only accept files that are images\r\n            if (type.includes(\"image\")) {\r\n                let name = e.target.files[0].name\r\n                this.setState({file: e.target.files[0]})\r\n\r\n                var reader = new FileReader();\r\n\r\n                // once loaded, change profile pic \r\n                reader.onload = (e) => {\r\n                    this.setState({pic_changed: true})\r\n                    this.setState({profile_pic: e.target.result})\r\n\r\n                    document.querySelector(\".file-name\").innerText = name\r\n                };\r\n                reader.readAsDataURL(e.target.files[0]);\r\n\r\n            } else {\r\n                alert(\"File must be a picture. Try again\")\r\n            }\r\n        }\r\n    }\r\n    \r\n    // handles any changes to the bio\r\n    handleBioChange= (e) => {\r\n        this.setState({bio: e.target.value});\r\n    }\r\n\r\n    // handles the saving of the bio\r\n    handleBioSave = (e) => {\r\n        app.database().ref(`/profile/${this.context.state.logged}/description`).set(this.state.bio).then(() => {\r\n            alert(\"Bio was changed!\")\r\n        }).catch((error) => {\r\n            alert(error)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if(this.state.redirect) {\r\n            let link = \"/p/\" + this.state.uuid\r\n            return <Redirect to={link}/>\r\n        } else {\r\n            return(\r\n                <div className=\"upload\">\r\n                    <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                        <p className=\"card-header-title is-centered\">\r\n                        Settings\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"card-content\">\r\n                    <label className='label'>Profile: </label>\r\n                    <article className=\"media\">\r\n                        <figure className=\"media-left\" ref={(profile) => this.profile = profile}>\r\n                            <p className=\"image is-128x128\">\r\n                            <img src={this.state.profile_pic}/>\r\n                            </p>\r\n                        </figure>\r\n                        <div className=\"media-content\">\r\n                            <div className=\"content\">\r\n                                <div className=\"file has-name\">\r\n                            <label className=\"file-label\">\r\n                                <input className=\"file-input\" type=\"file\" name=\"resume\" onChange={this.handleUploadChange}/>\r\n                                <span className=\"file-cta\">\r\n                                <span className=\"file-icon\">\r\n                                    <i className=\"fas fa-upload\"></i>\r\n                                </span>\r\n                                <span className=\"file-label\">\r\n                                    Choose a file…\r\n                                </span>\r\n                                </span>\r\n                                <span className=\"file-name\">\r\n                                None\r\n                                </span>\r\n                            </label>\r\n                            </div>\r\n                            <br/>\r\n                                <button className=\"button is-primary\" onClick={this.handleUpload}>Save Photo</button>   \r\n                            </div>\r\n                        </div>\r\n                    </article>\r\n\r\n                    <progress className=\"progress is-primary\" ref={(progress) => this.progress = progress} style={{display: this.state.progress === true ? 'block' : 'none' }} max=\"100\" ></progress>\r\n                    <hr/><br/>\r\n                    <label className='label'>Biography: </label>\r\n                    <textarea id=\"description\" className=\"textarea\" placeholder=\"Enter bio\" value={this.state.bio} onChange={this.handleBioChange}></textarea><br/>\r\n                    <button className=\"button is-primary\" onClick={this.handleBioSave}>Save Bio</button>   \r\n                </div>\r\n                </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Settings;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n// renders route and passes along props, used to redirect unauthenticated users to login\r\nexport default function PrivateRoute({component: Component, authenticated, ...rest}) {\r\n    return (\r\n        <Route  {...rest} \r\n        render={ props => authenticated === true ? (<Component {...props} {...rest} />) : (<Redirect to=\"/login\" />)}\r\n        />\r\n    );\r\n}","import React, { Component } from 'react';\r\nimport {app} from \"./config/firebase_config\"\r\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom'\r\nimport Navigation from './components/navigation'\r\nimport Profile from './components/profile/profile'\r\nimport Main from './components/main/main'\r\nimport Upload from './components/upload/upload'\r\nimport Login from './components/auth/login'\r\nimport Register from './components/auth/register'\r\nimport View from './components/view/view'\r\nimport Error from './components/error'\r\nimport Settings from './components/settings/settings'\r\nimport PrivateRoute from './components/auth/privateRoute'\r\nimport ContextUser from './contextUser'\r\n\r\nimport './App.css'\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            logged: null,\r\n            uid: null,\r\n            authenticated: false,\r\n            loading: true,\r\n        }\r\n    }\r\n\r\n    // Called immediately before mounting occurs, and before Component#render\r\n    componentWillMount = () => {\r\n        fetch('/api/test')\r\n        .then(res => res.json())\r\n        .then(test => console.log(test))\r\n        .catch(() => console.log(\"Express backend not working\"))\r\n\r\n        // check if authentication changed\r\n        app.auth().onAuthStateChanged(authUser => {\r\n            if(authUser) {\r\n                this.setState({\r\n                logged: authUser.displayName,\r\n                uid: authUser.uid,\r\n                authenticated: true,\r\n                loading: false\r\n                }) \r\n            } else {\r\n                this.setState({\r\n                logged: null,\r\n                authenticated: false,\r\n                loading: false,\r\n                uid: null\r\n                }) \r\n            }\r\n        \r\n        })\r\n    }\r\n\r\n\r\n    // callback for updating auth\r\n    updateAuth = (bool) => {\r\n        this.setState({authenticated: bool})\r\n    }\r\n\r\n\r\n    // callback for updated logged user\r\n    updateLogged = (user) => {\r\n        this.setState({logged: user})\r\n    }\r\n\r\n\r\n    // callback for updating both auth and logged\r\n    updateAuthLogged = (bool, user, uid) => {\r\n        this.setState({\r\n        authenticated: bool,\r\n        logged: user,\r\n        uid: uid\r\n        })\r\n    }\r\n\r\n\r\n\r\n  render() {\r\n    const {logged, authenticated, uid, loading} = this.state\r\n    \r\n    if(loading) {\r\n      return null;\r\n    }\r\n\r\n    return(\r\n        <ContextUser.Provider value={{\r\n            state: { logged: logged, authenticated: authenticated, uid: uid },\r\n            actions: { updateLogged: this.updateLogged, updateAuth: this.updateAuth, updateAuthLogged: this.updateAuthLogged }\r\n        }}>\r\n            <BrowserRouter>\r\n                <div className=\"App\">\r\n                    <Navigation/>\r\n                    <Switch>\r\n                        <PrivateRoute exact path=\"/\" component={Main} authenticated={authenticated}/>\r\n                        <PrivateRoute exact path=\"/upload\" component={Upload} authenticated={authenticated}/>\r\n                        <PrivateRoute exact path=\"/settings\" component={Settings} authenticated={authenticated}/>\r\n                        \r\n                        <Route path=\"/login\" render={()=> (authenticated ? <Redirect to=\"/\"/> : <Login />)} exact/>\r\n                        <Route path=\"/register\" render={()=> (authenticated ? <Redirect to=\"/\"/> : <Register />)} exact/>\r\n                        <Route path=\"/u/:username\" render={(props)=><Profile {...props} />} exact/>\r\n                        <Route path=\"/p/:id\" render={(props)=><View {...props} />} exact/>\r\n                        <Route path=\"*\" component={Error}/>\r\n\r\n                    </Switch>\r\n                </div>\r\n            </BrowserRouter>\r\n        </ContextUser.Provider>\r\n        )\r\n    }\r\n}\r\n\r\nexport default App;","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n\r\n              // Execute callback\r\n              if (config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}